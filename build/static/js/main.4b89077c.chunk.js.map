{"version":3,"sources":["services/persons.js","components/Notification.js","components/PersonForm.js","components/Filter.js","components/Person.js","components/Persons.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","put","concat","delete","Notification","_ref","message","react_default","a","createElement","className","PersonForm","persons","setPersons","newName","setNewName","newNumber","setNewNumber","handleChangeName","handleChangeNumber","setMessage","components_Notification","onSubmit","event","preventDefault","find","person","name","window","confirm","changedNumber","Object","objectSpread","number","PersonService","returnedPerson","map","setTimeout","catch","error","JSON","stringify","console","log","value","onChange","type","Filter","filtered","handleFilter","Person","deletePerson","onClick","Persons","showFiltered","filter","toUpperCase","includes","Fragment","components_Person","key","App","_useState","useState","_useState2","slicedToArray","_useState3","_useState4","_useState5","_useState6","_useState7","_useState8","setFiltered","_useState9","_useState10","useEffect","initialPersons","components_Filter","target","components_PersonForm","components_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.4b89077c.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove }","import React from 'react';\n\n\nconst Notification = ({ message }) => {\n  if (message === '') {\n    return ''\n  }\n\n  return (\n    <div className=\"success\">\n      {message}\n    </div>\n  )\n}\n\n\nexport default Notification","import React from 'react'\nimport PersonService from '../services/persons'\nimport Notification from './Notification'\n\n\nconst PersonForm = ({ persons, setPersons, newName, setNewName, newNumber, setNewNumber, handleChangeName, handleChangeNumber, message, setMessage }) => {\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    // Check to see if name exists, if not add name\n    if (persons.find(person => person.name === newName)) {\n      const person = persons.find(person => person.name === newName)\n      window.confirm(`${person.name} is already added to the phonebook. Replace the old number with a new one?`)\n      const changedNumber = { ...person, number: newNumber }\n      const id = person.id\n\n      PersonService.update(id, changedNumber)\n        .then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setMessage(\n            `Added ${person.name}`\n          )\n          setTimeout(() => {\n            setMessage('')\n          }, 5000)\n        }).catch(error => {\n          setMessage(`Information for ${person.name} has been removed from the server`)\n          setTimeout(() => {\n            setMessage('')\n          }, 5000)\n        })\n\n\n    } else {\n      const personsObject = {\n        name: newName,\n        number: newNumber\n      }\n      PersonService\n        .create(personsObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          setMessage(JSON.stringify(error.response.data))\n          setTimeout(() => {\n            setMessage('')\n          }, 5000)\n          console.log(error.response.data)\n        })\n    }\n\n  }\n\n  return (\n    <div>\n      <Notification message={message} />\n\n      <form onSubmit={addPerson}>\n        <div>\n          name: <input value={newName} onChange={handleChangeName} />\n          <br />\n          number: <input value={newNumber} onChange={handleChangeNumber} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Filter = ({ filtered, handleFilter }) => {\n  return (\n    <div>\n      Filter shown with <input onChange={handleFilter} value={filtered} />\n    </div>\n  )\n}\n\nexport default Filter\n\n","import React from 'react'\n\nconst Person = ({ name, number, deletePerson }) => {\n\n  return (\n    <p>{name} {number} <button onClick={deletePerson}>delete</button></p>\n  )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ persons, filtered, deletePerson }) => {\n  const showFiltered = persons.filter(person => {\n    return person.name.toUpperCase().includes(filtered.toUpperCase())\n  })\n\n  console.log(showFiltered)\n\n  // const filteredName = () => {\n  //   return (\n  //     showFiltered.map(filteredName => <p >{filteredName.name} {filteredName.number}</p>)\n  //   )\n  // }\n\n  const rows = () => {\n    return (\n      showFiltered.map(person =>\n        <Person key={person.id} name={person.name} number={person.number} deletePerson={() => deletePerson(person.id)} />\n      )\n    )\n  }\n\n  return (\n    <>\n      {rows()}\n    </>\n  )\n}\n\nexport default Persons","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm';\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport PersonService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filtered, setFiltered] = useState('')\n  const [message, setMessage] = useState('')\n\n  useEffect(() => {\n    PersonService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const handleChangeName = (event) => {\n    //console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleChangeNumber = (event) => {\n    //console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilter = (event) => {\n    //console.log(event.target.value)\n    setFiltered(event.target.value)\n  }\n\n  const deletePerson = (id) => {\n    const person = persons.find(person => person.id === id)\n    window.confirm(`Delete ${person.name}?`)\n\n    PersonService\n      .remove(id)\n      .then(setPersons(persons.filter(person => person.id !== id)))\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Filter handleFilter={handleFilter} filtered={filtered} />\n      <h2>Add New</h2>\n      <PersonForm persons={persons} setPersons={setPersons} newName={newName} setNewName={setNewName} newNumber={newNumber} setNewNumber={setNewNumber} handleChangeName={handleChangeName} handleChangeNumber={handleChangeNumber} message={message} setMessage={setMessage} />\n      <h2>Numbers</h2>\n      <Persons persons={persons} filtered={filtered} deletePerson={deletePerson} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}